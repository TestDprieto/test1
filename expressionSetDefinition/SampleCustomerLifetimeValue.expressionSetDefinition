<?xml version="1.0" encoding="UTF-8"?>
<ExpressionSetDefinition xmlns="http://soap.sforce.com/2006/04/metadata">
    <label>SampleCustomerLifetimeValue</label>
    <processType>Bre</processType>
    <template>false</template>
    <versions>
        <fullName>SampleCustomerLifetimeValueV1</fullName>
        <expressionSetDefinition>SampleCustomerLifetimeValue</expressionSetDefinition>
        <label>SampleCustomerLifetimeValue V1</label>
        <processType>Bre</processType>
        <shouldShowExplExternally>false</shouldShowExplExternally>
        <startDate>2022-01-27T17:32:54.000Z</startDate>
        <status>Active</status>
        <steps>
            <actionType>BreAggregator</actionType>
            <aggregation>
                <aggergatedParameter>TotalCLV</aggergatedParameter>
                <aggregateFunction>Sum</aggregateFunction>
                <expression>SUM(CLV)</expression>
            </aggregation>
            <label>Aggregate</label>
            <name>Aggregate</name>
            <resultIncluded>true</resultIncluded>
            <sequenceNumber>3</sequenceNumber>
            <shouldExposExecPathMsgOnly>false</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>AssignParameterValues</actionType>
            <assignment>
                <assignedParameter>CLV</assignedParameter>
                <expression>( AnnualIncome - SampleteamSLARetention__RetentionCost )* SampleteamSLARetention__RetentionRate / ( One + DiscountRate - SampleteamSLARetention__RetentionRate )</expression>
            </assignment>
            <label>Calculation</label>
            <name>Calculation</name>
            <resultIncluded>true</resultIncluded>
            <sequenceNumber>2</sequenceNumber>
            <shouldExposExecPathMsgOnly>false</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <steps>
            <actionType>GetOutputsFromDecisionMatrix</actionType>
            <decisionTable>
                <decisionTableName>SampleteamSLARetention</decisionTableName>
                <type>DecisionMatrix</type>
            </decisionTable>
            <label>Decision Matrix</label>
            <name>DecisionMatrix</name>
            <resultIncluded>false</resultIncluded>
            <sequenceNumber>1</sequenceNumber>
            <shouldExposExecPathMsgOnly>false</shouldExposExecPathMsgOnly>
            <shouldExposeConditionDetails>false</shouldExposeConditionDetails>
            <shouldShowExplExternally>false</shouldShowExplExternally>
            <stepType>BusinessKnowledgeModel</stepType>
        </steps>
        <variables>
            <collection>false</collection>
            <dataType>Currency</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>AnnualIncome</description>
            <input>true</input>
            <name>AnnualIncome</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Currency</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>CLV</description>
            <input>false</input>
            <name>CLV</name>
            <output>true</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Numeric</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>DiscountRate</description>
            <input>false</input>
            <name>DiscountRate</name>
            <output>false</output>
            <type>Constant</type>
            <value>0.03</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Numeric</dataType>
            <decimalPlaces>0</decimalPlaces>
            <description>One</description>
            <input>false</input>
            <name>One</name>
            <output>false</output>
            <type>Constant</type>
            <value>1</value>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Text</dataType>
            <input>true</input>
            <lookupName>SampleteamSLARetention</lookupName>
            <lookupType>DecisionMatrix</lookupType>
            <name>SLA</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Currency</dataType>
            <input>false</input>
            <lookupName>SampleteamSLARetention</lookupName>
            <lookupType>DecisionMatrix</lookupType>
            <name>SampleteamSLARetention__RetentionCost</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Numeric</dataType>
            <input>false</input>
            <lookupName>SampleteamSLARetention</lookupName>
            <lookupType>DecisionMatrix</lookupType>
            <name>SampleteamSLARetention__RetentionRate</name>
            <output>false</output>
            <type>Variable</type>
        </variables>
        <variables>
            <collection>false</collection>
            <dataType>Currency</dataType>
            <decimalPlaces>2</decimalPlaces>
            <description>TotalCLV</description>
            <input>false</input>
            <name>TotalCLV</name>
            <output>true</output>
            <type>Variable</type>
        </variables>
        <versionNumber>1</versionNumber>
    </versions>
</ExpressionSetDefinition>
