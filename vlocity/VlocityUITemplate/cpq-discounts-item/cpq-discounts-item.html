<div class="slds-tile cpq-discount-item" ng-if="obj.category.toLowerCase() === importedScope.getCategorySelected().toLowerCase()">
    <div class="cpq-discount-label slds-m-horizontal_large" ng-class="{'cpq-discount-list-margin-top': $first}">
        {{obj[$root.nsPrefix +'DiscountType__c']}}
        <span class="cpq-discount-date-label"> {{importedScope.customLabels.CPQEffectiveUntil}}  {{importedScope.convertToLocalDate(obj[$root.nsPrefix+ 'effectiveenddate__c'])}}</span>
    </div>
    <div class="slds-media cpq-discount-container slds-m-horizontal_large">

        <div class="slds-media__body">
            <div class="slds-grid slds-wrap">
                <div class="slds-col slds-small-size_10-of-12 slds-medium-size_10-of-12 slds-large-size_10-of-12">
                    <span class="slds-tile__title slds-truncate cpq-discount-name">
                        {{::obj.Name | uppercase}}
                    </span>
                </div>
                <div class="slds-colslds-small-size_2-of-12 slds-medium-size_2-of-12 slds-large-size_2-of-12">
                    <a href="#" ng-click="importedScope.viewMore(obj)" class="cpq-discount-link slds-text-body_small slds-float_right">
                        {{::importedScope.customLabels.CPQMore}}
                    </a>
                </div>
            </div>
            <div class="slds-tile__detail">
                <div class="slds-grid">
                    <div class="slds-col slds-small-size_8-of-12 slds-medium-size_7-of-12 slds-large-size_8-of-12 slds-text-align_left cpq-discount-price">
                        <div ng-repeat="discountTypes in obj.Discount | orderBy:'label':true" class="cpq-discount-info-wrap">
                            <span class="cpq-discount-info-label">
                                <span class="cpq-discount-info-label">{{discountTypes.label}}</span>
                            </span> 
                            <div ng-show="discountTypes.timePlanName || discountTypes.timePolicyName" class="slds-m-top_x-small ng-hide">
                                <span class="cpq-discount-timeplan-label">
                                    <span> {{discountTypes.timePlanName}} <span ng-show="discountTypes.timePlanName && discountTypes.timePolicyName" class="ng-hide"> / </span> {{discountTypes.timePolicyName}} </span>
                                </span>                  
                            </div>                 
                        </div>
                        <div ng-if="obj[$root.nsPrefix +'AppliesToAllItems__c']">
                            <span class="cpq-discount-timeplan-label">
                                {{::importedScope.customLabels.CPQAppliesToAllItems}}
                            </span>  
                        </div>
                    </div>
                    <div class="slds-col slds-small-size_4-of-12 slds-medium-size_5-of-12 slds-large-size_4-of-12 slds-text-align_right cpq-discount-actions">
                        <button class="slds-button slds-button_neutral cpq-add-button" ng-click="importedScope.addToCart(obj,false)" ng-disabled="!obj.actions || !obj.actions.addtocart || obj.category.toLowerCase() !== 'qualified'">
                            {{::importedScope.customLabels.CPQAddToCart}}
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>